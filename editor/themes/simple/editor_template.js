tinyMCE.importThemeLanguagePack("simple");var TinyMCE_simpleTheme={_defColors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",_autoImportCSSClasses:true,_resizer:{},_buttons:[["bold","{$lang_bold_img}","lang_bold_desc","Bold"],["italic","{$lang_italic_img}","lang_italic_desc","Italic"],["underline","{$lang_underline_img}","lang_underline_desc","Underline"],["link","link.gif","lang_link_desc","mceLink",true],["unlink","unlink.gif","lang_unlink_desc","unlink"],["image","image.gif","lang_image_desc","mceImage",true],["cleanup","cleanup.gif","lang_cleanup_desc","mceCleanup"],["help","help.gif","lang_help_desc","mceHelp"],["code","code.gif","lang_theme_code_desc","mceCodeEditor"],["hr","hr.gif","lang_theme_hr_desc","inserthorizontalrule"],["removeformat","removeformat.gif","lang_theme_removeformat_desc","removeformat"],["forecolor","forecolor.gif","lang_theme_forecolor_desc","forecolor",true],["backcolor","backcolor.gif","lang_theme_backcolor_desc","HiliteColor",true],["backcolorpicker","backcolor.gif","lang_theme_backcolor_desc","backcolorpicker",true],["charmap","charmap.gif","lang_theme_charmap_desc","mceCharMap"],["visualaid","visualaid.gif","lang_theme_visualaid_desc","mceToggleVisualAid"],["anchor","anchor.gif","lang_theme_anchor_desc","mceInsertAnchor"],["newdocument","newdocument.gif","lang_newdocument_desc","mceNewDocument"]],_buttonMap:"anchor,backcolor,bold,bullist,charmap,cleanup,code,copy,cut,forecolor,help,hr,image,indent,italic,justifycenter,justifyfull,justifyleft,justifyright,link,newdocument,numlist,outdent,paste,redo,removeformat,strikethrough,sub,sup,underline,undo,unlink,visualaid,advhr,ltr,rtl,emotions,flash,fullpage,fullscreen,iespell,insertdate,inserttime,pastetext,pasteword,selectall,preview,print,save,replace,search,table,cell_props,delete_col,delete_row,col_after,col_before,row_after,row_before,merge_cells,row_props,split_cells,delete_table",getControlHTML:function(B){var D,J,H;for(D=0;D<TinyMCE_simpleTheme._buttons.length;D++){H=TinyMCE_simpleTheme._buttons[D];if(H[0]==B&&(B=="forecolor"||B=="backcolor")){return tinyMCE.getMenuButtonHTML(H[0],H[2],"{$themeurl}/images/"+H[1],H[3]+"Menu",H[3],(H.length>4?H[4]:false),(H.length>5?H[5]:null))}if(H[0]==B){return tinyMCE.getButtonHTML(H[0],H[2],"{$themeurl}/images/"+H[1],H[3],(H.length>4?H[4]:false),(H.length>5?H[5]:null))}}switch(B){case"formatselect":var F='<select id="{$editor_id}_formatSelect" name="{$editor_id}_formatSelect" onfocus="tinyMCE.addSelectAccessibility(event, this, window);" onchange="tinyMCE.execInstanceCommand(\'{$editor_id}\',\'FormatBlock\',false,this.options[this.selectedIndex].value);" class="mceSelectList">';var L=tinyMCE.getParam("theme_simple_blockformats","p,address,pre,h1,h2,h3,h4,h5,h6",true).split(",");var G=[["p","{$lang_theme_paragraph}"],["address","{$lang_theme_address}"],["pre","{$lang_theme_pre}"],["h1","{$lang_theme_h1}"],["h2","{$lang_theme_h2}"],["h3","{$lang_theme_h3}"],["h4","{$lang_theme_h4}"],["h5","{$lang_theme_h5}"],["h6","{$lang_theme_h6}"],["div","{$lang_theme_div}"],["blockquote","{$lang_theme_blockquote}"],["code","{$lang_theme_code}"],["dt","{$lang_theme_dt}"],["dd","{$lang_theme_dd}"],["samp","{$lang_theme_samp}"]];F+='<option value="">{$lang_theme_block}</option>';for(var D=0;D<L.length;D++){for(var J=0;J<G.length;J++){if(L[D]==G[J][0]){F+='<option value="&lt;'+G[J][0]+'&gt;">'+G[J][1]+"</option>"}}}F+="</select>";return F;case"fontselect":var A='<select id="{$editor_id}_fontNameSelect" name="{$editor_id}_fontNameSelect" onfocus="tinyMCE.addSelectAccessibility(event, this, window);" onchange="tinyMCE.execInstanceCommand(\'{$editor_id}\',\'FontName\',false,this.options[this.selectedIndex].value);" class="mceSelectList"><option value="">{$lang_theme_fontdefault}</option>';var K="Arial=arial,helvetica,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,times new roman,times,serif;Tahoma=tahoma,arial,helvetica,sans-serif;Times New Roman=times new roman,times,serif;Verdana=verdana,arial,helvetica,sans-serif;Impact=impact;WingDings=wingdings";var E="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats";var I=tinyMCE.getParam("theme_simple_fonts",E).split(";");for(D=0;D<I.length;D++){if(I[D]!=""){var C=I[D].split("=");A+='<option value="'+C[1]+'">'+C[0]+"</option>"}}A+="</select>";return A;case"fontsizeselect":return'<select id="{$editor_id}_fontSizeSelect" name="{$editor_id}_fontSizeSelect" onfocus="tinyMCE.addSelectAccessibility(event, this, window);" onchange="tinyMCE.execInstanceCommand(\'{$editor_id}\',\'FontSize\',false,this.options[this.selectedIndex].value);" class="mceSelectList"><option value="0">{$lang_theme_font_size}</option><option value="1">1 (8 pt)</option><option value="2">2 (10 pt)</option><option value="3">3 (12 pt)</option><option value="4">4 (14 pt)</option><option value="5">5 (18 pt)</option><option value="6">6 (24 pt)</option><option value="7">7 (36 pt)</option></select>';case"|":case"separator":return'<img src="{$themeurl}/images/separator.gif" width="2" height="20" class="mceSeparatorLine" alt="" />';case"spacer":return'<img src="{$themeurl}/images/separator.gif" width="2" height="15" border="0" class="mceSeparatorLine" style="vertical-align: middle" alt="" />';case"rowseparator":return"<br />"}return""},execCommand:function(editor_id,element,command,user_interface,value){switch(command){case"mceHelp":tinyMCE.openWindow({file:"about.htm",width:480,height:380},{tinymce_version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion,tinymce_releasedate:tinyMCE.releaseDate,inline:"yes"});return true;case"mceLink":var inst=tinyMCE.getInstanceById(editor_id);var doc=inst.getDoc();var selectedText="";if(tinyMCE.isMSIE){var rng=doc.selection.createRange();selectedText=rng.text}else{selectedText=inst.getSel().toString()}if(!tinyMCE.linkElement){if((tinyMCE.selectedElement.nodeName.toLowerCase()!="img")&&(selectedText.length<=0)){return true}}var href="",target="",title="",onclick="",action="insert",style_class="";if(tinyMCE.selectedElement.nodeName.toLowerCase()=="a"){tinyMCE.linkElement=tinyMCE.selectedElement}if(tinyMCE.linkElement!=null&&tinyMCE.getAttrib(tinyMCE.linkElement,"href")==""){tinyMCE.linkElement=null}if(tinyMCE.linkElement){href=tinyMCE.getAttrib(tinyMCE.linkElement,"href");target=tinyMCE.getAttrib(tinyMCE.linkElement,"target");title=tinyMCE.getAttrib(tinyMCE.linkElement,"title");onclick=tinyMCE.getAttrib(tinyMCE.linkElement,"onclick");style_class=tinyMCE.getAttrib(tinyMCE.linkElement,"class");if(onclick==""){onclick=tinyMCE.getAttrib(tinyMCE.linkElement,"onclick")}onclick=tinyMCE.cleanupEventStr(onclick);href=eval(tinyMCE.settings.urlconverter_callback+"(href, tinyMCE.linkElement, true);");mceRealHref=tinyMCE.getAttrib(tinyMCE.linkElement,"mce_href");if(mceRealHref!=""){href=mceRealHref;if(tinyMCE.getParam("convert_urls")){href=eval(tinyMCE.settings.urlconverter_callback+"(href, tinyMCE.linkElement, true);")}}action="update"}var template=new Array();template.file="link.htm";template.width=310;template.height=200;template.width+=tinyMCE.getLang("lang_insert_link_delta_width",0);template.height+=tinyMCE.getLang("lang_insert_link_delta_height",0);if(inst.settings.insertlink_callback){var returnVal=eval(inst.settings.insertlink_callback+"(href, target, title, onclick, action, style_class);");if(returnVal&&returnVal.href){TinyMCE_simpleTheme._insertLink(returnVal.href,returnVal.target,returnVal.title,returnVal.onclick,returnVal.style_class)}}else{tinyMCE.openWindow(template,{href:href,target:target,title:title,onclick:onclick,action:action,className:style_class,inline:"yes"})}return true;case"mceImage":var src="",alt="",border="",hspace="",vspace="",width="",height="",align="";var title="",onmouseover="",onmouseout="",action="insert";var img=tinyMCE.imgElement;var inst=tinyMCE.getInstanceById(editor_id);if(tinyMCE.selectedElement!=null&&tinyMCE.selectedElement.nodeName.toLowerCase()=="img"){img=tinyMCE.selectedElement;tinyMCE.imgElement=img}if(img){if(tinyMCE.getAttrib(img,"name").indexOf("mce_")==0){return true}src=tinyMCE.getAttrib(img,"src");alt=tinyMCE.getAttrib(img,"alt");if(alt==""){alt=tinyMCE.getAttrib(img,"title")}if(tinyMCE.isGecko){var w=img.style.width;if(w!=null&&w!=""){img.setAttribute("width",w)}var h=img.style.height;if(h!=null&&h!=""){img.setAttribute("height",h)}}border=tinyMCE.getAttrib(img,"border");hspace=tinyMCE.getAttrib(img,"hspace");vspace=tinyMCE.getAttrib(img,"vspace");width=tinyMCE.getAttrib(img,"width");height=tinyMCE.getAttrib(img,"height");align=tinyMCE.getAttrib(img,"align");onmouseover=tinyMCE.getAttrib(img,"onmouseover");onmouseout=tinyMCE.getAttrib(img,"onmouseout");title=tinyMCE.getAttrib(img,"title");if(tinyMCE.isMSIE){width=img.attributes.width.specified?width:"";height=img.attributes.height.specified?height:""}src=eval(tinyMCE.settings.urlconverter_callback+"(src, img, true);");mceRealSrc=tinyMCE.getAttrib(img,"mce_src");if(mceRealSrc!=""){src=mceRealSrc;if(tinyMCE.getParam("convert_urls")){src=eval(tinyMCE.settings.urlconverter_callback+"(src, img, true);")}}action="update"}var template=new Array();template.file="image.htm?src={$src}";template.width=355;template.height=265+(tinyMCE.isMSIE?25:0);template.width+=tinyMCE.getLang("lang_insert_image_delta_width",0);template.height+=tinyMCE.getLang("lang_insert_image_delta_height",0);if(inst.settings.insertimage_callback){var returnVal=eval(inst.settings.insertimage_callback+"(src, alt, border, hspace, vspace, width, height, align, title, onmouseover, onmouseout, action);");if(returnVal&&returnVal.src){TinyMCE_simpleTheme._insertImage(returnVal.src,returnVal.alt,returnVal.border,returnVal.hspace,returnVal.vspace,returnVal.width,returnVal.height,returnVal.align,returnVal.title,returnVal.onmouseover,returnVal.onmouseout)}}else{tinyMCE.openWindow(template,{src:src,alt:alt,border:border,hspace:hspace,vspace:vspace,width:width,height:height,align:align,title:title,onmouseover:onmouseover,onmouseout:onmouseout,action:action,inline:"yes"})}return true;case"forecolor":var fcp=new TinyMCE_Layer(editor_id+"_fcPreview",false),p,img,elm;TinyMCE_simpleTheme._hideMenus(editor_id);if(!fcp.exists()){fcp.create("div","mceColorPreview",document.getElementById(editor_id+"_toolbar"));elm=fcp.getElement();elm._editor_id=editor_id;elm._command="forecolor";elm._switchId=editor_id+"_forecolor";tinyMCE.addEvent(elm,"click",TinyMCE_simpleTheme._handleMenuEvent);tinyMCE.addEvent(elm,"mouseover",TinyMCE_simpleTheme._handleMenuEvent);tinyMCE.addEvent(elm,"mouseout",TinyMCE_simpleTheme._handleMenuEvent)}img=tinyMCE.selectNodes(document.getElementById(editor_id+"_forecolor"),function(n){return n.nodeName=="IMG"})[0];p=tinyMCE.getAbsPosition(img,document.getElementById(editor_id+"_toolbar"));fcp.moveTo(p.absLeft,p.absTop);fcp.getElement().style.backgroundColor=value!=null?value:tinyMCE.getInstanceById(editor_id).foreColor;fcp.show();return false;case"forecolorpicker":this._pickColor(editor_id,"forecolor");return true;case"forecolorMenu":TinyMCE_simpleTheme._hideMenus(editor_id);var ml=new TinyMCE_Layer(editor_id+"_fcMenu");if(!ml.exists()){ml.create("div","mceMenu",document.body,TinyMCE_simpleTheme._getColorHTML(editor_id,"theme_simple_text_colors","forecolor"))}tinyMCE.switchClass(editor_id+"_forecolor","mceMenuButtonFocus");ml.moveRelativeTo(document.getElementById(editor_id+"_forecolor"),"bl");ml.moveBy(tinyMCE.isMSIE&&!tinyMCE.isOpera?-1:1,-1);if(tinyMCE.isOpera){ml.moveBy(0,-2)}ml.show();return true;case"HiliteColor":var bcp=new TinyMCE_Layer(editor_id+"_bcPreview",false),p,img;TinyMCE_simpleTheme._hideMenus(editor_id);if(!bcp.exists()){bcp.create("div","mceColorPreview",document.getElementById(editor_id+"_toolbar"));elm=bcp.getElement();elm._editor_id=editor_id;elm._command="HiliteColor";elm._switchId=editor_id+"_backcolor";tinyMCE.addEvent(elm,"click",TinyMCE_simpleTheme._handleMenuEvent);tinyMCE.addEvent(elm,"mouseover",TinyMCE_simpleTheme._handleMenuEvent);tinyMCE.addEvent(elm,"mouseout",TinyMCE_simpleTheme._handleMenuEvent)}img=tinyMCE.selectNodes(document.getElementById(editor_id+"_backcolor"),function(n){return n.nodeName=="IMG"})[0];p=tinyMCE.getAbsPosition(img,document.getElementById(editor_id+"_toolbar"));bcp.moveTo(p.absLeft,p.absTop);bcp.getElement().style.backgroundColor=value!=null?value:tinyMCE.getInstanceById(editor_id).backColor;bcp.show();return false;case"HiliteColorMenu":TinyMCE_simpleTheme._hideMenus(editor_id);var ml=new TinyMCE_Layer(editor_id+"_bcMenu");if(!ml.exists()){ml.create("div","mceMenu",document.body,TinyMCE_simpleTheme._getColorHTML(editor_id,"theme_simple_background_colors","HiliteColor"))}tinyMCE.switchClass(editor_id+"_backcolor","mceMenuButtonFocus");ml.moveRelativeTo(document.getElementById(editor_id+"_backcolor"),"bl");ml.moveBy(tinyMCE.isMSIE&&!tinyMCE.isOpera?-1:1,-1);if(tinyMCE.isOpera){ml.moveBy(0,-2)}ml.show();return true;case"backcolorpicker":this._pickColor(editor_id,"HiliteColor");return true;case"mceColorPicker":if(user_interface){var template=[];if(!value.callback&&!value.color){value.color=value.document.getElementById(value.element_id).value}template.file="color_picker.htm";template.width=380;template.height=250;template.close_previous="no";template.width+=tinyMCE.getLang("lang_theme_simple_colorpicker_delta_width",0);template.height+=tinyMCE.getLang("lang_theme_simple_colorpicker_delta_height",0);if(typeof (value.store_selection)=="undefined"){value.store_selection=true}tinyMCE.lastColorPickerValue=value;tinyMCE.openWindow(template,{editor_id:editor_id,mce_store_selection:value.store_selection,inline:"yes",command:"mceColorPicker",input_color:value.color})}else{var savedVal=tinyMCE.lastColorPickerValue,elm;if(savedVal.callback){savedVal.callback(value);return true}elm=savedVal.document.getElementById(savedVal.element_id);elm.value=value;if(elm.onchange!=null&&elm.onchange!=""){eval("elm.onchange();")}}return true;case"mceCodeEditor":var template=new Array();template.file="source_editor.htm";template.width=parseInt(tinyMCE.getParam("theme_simple_source_editor_width",720));template.height=parseInt(tinyMCE.getParam("theme_simple_source_editor_height",580));tinyMCE.openWindow(template,{editor_id:editor_id,resizable:"yes",scrollbars:"no",inline:"yes"});return true;case"mceCharMap":var template=new Array();template.file="charmap.htm";template.width=550+(tinyMCE.isOpera?40:0);template.height=250;template.width+=tinyMCE.getLang("lang_theme_simple_charmap_delta_width",0);template.height+=tinyMCE.getLang("lang_theme_simple_charmap_delta_height",0);tinyMCE.openWindow(template,{editor_id:editor_id,inline:"yes"});return true;case"mceInsertAnchor":var template=new Array();template.file="anchor.htm";template.width=320;template.height=90+(tinyMCE.isNS7?30:0);template.width+=tinyMCE.getLang("lang_theme_simple_anchor_delta_width",0);template.height+=tinyMCE.getLang("lang_theme_simple_anchor_delta_height",0);tinyMCE.openWindow(template,{editor_id:editor_id,inline:"yes"});return true;case"mceNewDocument":if(confirm(tinyMCE.entityDecode(tinyMCE.getLang("lang_newdocument")))){tinyMCE.execInstanceCommand(editor_id,"mceSetContent",false," ")}return true}return false},getEditorTemplate:function(settings,editorId){function removeFromArray(in_array,remove_array){var outArray=new Array(),skip;for(var i=0;i<in_array.length;i++){skip=false;for(var j=0;j<remove_array.length;j++){if(in_array[i]==remove_array[j]){skip=true}}if(!skip){outArray[outArray.length]=in_array[i]}}return outArray}function addToArray(in_array,add_array){for(var i=0;i<add_array.length;i++){in_array[in_array.length]=add_array[i]}return in_array}var template=new Array();var deltaHeight=0;var resizing=tinyMCE.getParam("theme_simple_resizing",false);var path=tinyMCE.getParam("theme_simple_path",true);var statusbarHTML='<div id="{$editor_id}_path" class="mceStatusbarPathText" style="display: '+(path?"block":"none")+'">&#160;</div><div id="{$editor_id}_resize" class="mceStatusbarResize" style="display: '+(resizing?"block":"none")+'" onmousedown="tinyMCE.themes.simple._setResizing(event,\'{$editor_id}\',true);"></div><br style="clear: both" />';var layoutManager=tinyMCE.getParam("theme_simple_layout_manager","SimpleLayout");var styleSelectHTML='<option value="">{$lang_theme_style_select}</option>';if(settings.theme_simple_styles){var stylesAr=settings.theme_simple_styles.split(";");for(var i=0;i<stylesAr.length;i++){var key,value;key=stylesAr[i].split("=")[0];value=stylesAr[i].split("=")[1];styleSelectHTML+='<option value="'+value+'">'+key+"</option>"}TinyMCE_simpleTheme._autoImportCSSClasses=false}switch(layoutManager){case"SimpleLayout":var toolbarHTML="";var toolbarLocation=tinyMCE.getParam("theme_simple_toolbar_location","top");var toolbarAlign=tinyMCE.getParam("theme_simple_toolbar_align","center");var pathLocation=tinyMCE.getParam("theme_simple_path_location","none");var statusbarLocation=tinyMCE.getParam("theme_simple_statusbar_location",pathLocation);var defVals={theme_simple_buttons1:"save,newdocument,|,code,cleanup,|,bold,italic,underline,forecolor,removeformat,|,link,unlink,anchor,|,hr,image,|,help"};toolbarHTML+='<a href="#" accesskey="q" title="'+tinyMCE.getLang("lang_toolbar_focus")+'"';if(!tinyMCE.getParam("accessibility_focus")){toolbarHTML+=" onfocus=\"tinyMCE.getInstanceById('"+editorId+"').getWin().focus();\""}toolbarHTML+="></a>";for(var i=1;i<100;i++){var def=defVals["theme_simple_buttons"+i];var buttons=tinyMCE.getParam("theme_simple_buttons"+i,def==null?"":def,true,",");if(buttons.length==0){break}buttons=removeFromArray(buttons,tinyMCE.getParam("theme_simple_disable","",true,","));buttons=addToArray(buttons,tinyMCE.getParam("theme_simple_buttons"+i+"_add","",true,","));buttons=addToArray(tinyMCE.getParam("theme_simple_buttons"+i+"_add_before","",true,","),buttons);for(var b=0;b<buttons.length;b++){toolbarHTML+=tinyMCE.getControlHTML(buttons[b])}if(buttons.length>0){toolbarHTML+="<br />";deltaHeight-=23}}toolbarHTML+='<a href="#" accesskey="z" onfocus="tinyMCE.getInstanceById(\''+editorId+"').getWin().focus();\"></a>";template.html='<table class="mceEditor" border="0" cellpadding="0" cellspacing="0" width="{$width}" height="{$height}" style="width:{$width_style};height:{$height_style}"><tbody>';if(toolbarLocation=="top"){template.html+='<tr><td dir="ltr" class="mceToolbarTop" align="'+toolbarAlign+'" height="1" nowrap="nowrap"><span id="'+editorId+'_toolbar" class="mceToolbarContainer">'+toolbarHTML+"</span></td></tr>"}if(statusbarLocation=="top"){template.html+='<tr><td class="mceStatusbarTop" height="1">'+statusbarHTML+"</td></tr>";deltaHeight-=23}template.html+='<tr><td align="center"><span id="{$editor_id}"></span></td></tr>';if(toolbarLocation=="bottom"){template.html+='<tr><td dir="ltr" class="mceToolbarBottom" align="'+toolbarAlign+'" height="1"><span id="'+editorId+'_toolbar" class="mceToolbarContainer">'+toolbarHTML+"</span></td></tr>"}if(toolbarLocation=="external"){var bod=document.body;var elm=document.createElement("div");toolbarHTML=tinyMCE.replaceVar(toolbarHTML,"style_select_options",styleSelectHTML);toolbarHTML=tinyMCE.applyTemplate(toolbarHTML,{editor_id:editorId});elm.className="mceToolbarExternal";elm.id=editorId+"_toolbar";elm.innerHTML='<table width="100%" border="0" align="center"><tr><td align="center">'+toolbarHTML+"</td></tr></table>";bod.appendChild(elm);deltaHeight=0;tinyMCE.getInstanceById(editorId).toolbarElement=elm}else{tinyMCE.getInstanceById(editorId).toolbarElement=null}if(statusbarLocation=="bottom"){template.html+='<tr><td class="mceStatusbarBottom" height="1">'+statusbarHTML+"</td></tr>";deltaHeight-=23}template.html+="</tbody></table>";break;case"RowLayout":template.html='<table class="mceEditor" border="0" cellpadding="0" cellspacing="0" width="{$width}" height="{$height}" style="width:{$width}px;height:{$height}px"><tbody>';var containers=tinyMCE.getParam("theme_simple_containers","",true,",");var defaultContainerCSS=tinyMCE.getParam("theme_simple_containers_default_class","container");var defaultContainerAlign=tinyMCE.getParam("theme_simple_containers_default_align","center");for(var i=0;i<containers.length;i++){if(containers[i]=="mceEditor"){template.html+='<tr><td align="center" class="mceEditor_border"><span id="{$editor_id}"></span></td></tr>'}else{if(containers[i]=="mceElementpath"||containers[i]=="mceStatusbar"){var pathClass="mceStatusbar";if(i==containers.length-1){pathClass="mceStatusbarBottom"}else{if(i==0){pathClass="mceStatusbar"}else{deltaHeight-=2}}template.html+='<tr><td class="'+pathClass+'" height="1">'+statusbarHTML+"</td></tr>";deltaHeight-=22}else{var curContainer=tinyMCE.getParam("theme_simple_container_"+containers[i],"",true,",");var curContainerHTML="";var curAlign=tinyMCE.getParam("theme_simple_container_"+containers[i]+"_align",defaultContainerAlign);var curCSS=tinyMCE.getParam("theme_simple_container_"+containers[i]+"_class",defaultContainerCSS);curContainer=removeFromArray(curContainer,tinyMCE.getParam("theme_simple_disable","",true,","));for(var j=0;j<curContainer.length;j++){curContainerHTML+=tinyMCE.getControlHTML(curContainer[j])}if(curContainer.length>0){curContainerHTML+="<br />";deltaHeight-=23}template.html+='<tr><td class="'+curCSS+'" align="'+curAlign+'" height="1">'+curContainerHTML+"</td></tr>"}}}template.html+="</tbody></table>";break;case"CustomLayout":var customLayout=tinyMCE.getParam("theme_simple_custom_layout","");if(customLayout!=""&&eval("typeof("+customLayout+")")!="undefined"){template=eval(customLayout+"(template);")}break}if(resizing){template.html+='<span id="{$editor_id}_resize_box" class="mceResizeBox"></span>'}template.html=tinyMCE.replaceVar(template.html,"style_select_options",styleSelectHTML);if(!template.delta_width){template.delta_width=0}if(!template.delta_height){template.delta_height=deltaHeight}return template},initInstance:function(C){if(tinyMCE.getParam("theme_simple_resizing",false)){if(tinyMCE.getParam("theme_simple_resizing_use_cookie",true)){var A=TinyMCE_simpleTheme._getCookie("TinyMCE_"+C.editorId+"_width");var B=TinyMCE_simpleTheme._getCookie("TinyMCE_"+C.editorId+"_height");TinyMCE_simpleTheme._resizeTo(C,A,B,tinyMCE.getParam("theme_simple_resize_horizontal",true))}}C.addShortcut("ctrl","k","lang_link_desc","mceLink")},removeInstance:function(A){new TinyMCE_Layer(A.editorId+"_fcMenu").remove();new TinyMCE_Layer(A.editorId+"_bcMenu").remove()},hideInstance:function(A){TinyMCE_simpleTheme._hideMenus(A.editorId)},_handleMenuEvent:function(A){var B=tinyMCE.isMSIE?window.event.srcElement:A.target;tinyMCE._menuButtonEvent(A.type=="mouseover"?"over":"out",document.getElementById(B._switchId));if(A.type=="click"){tinyMCE.execInstanceCommand(B._editor_id,B._command)}},_hideMenus:function(C){var A=new TinyMCE_Layer(C+"_fcMenu"),B=new TinyMCE_Layer(C+"_bcMenu");if(A.exists()&&A.isVisible()){tinyMCE.switchClass(C+"_forecolor","mceMenuButton");A.hide()}if(B.exists()&&B.isVisible()){tinyMCE.switchClass(C+"_backcolor","mceMenuButton");B.hide()}},handleNodeChange:function(g,V,B,f,N,E,U){var R,m,a;function T(r,q,p){p=typeof (p)=="undefined"?false:true;if(r){for(var o=0;o<r.options.length;o++){var n=""+r.options[o].value;if(p&&n.toLowerCase().indexOf(q.toLowerCase())==0){r.selectedIndex=o;return true}if(n==q){r.selectedIndex=o;return true}}}return false}if(V==null){return }var C=document.getElementById(g+"_path");var W=tinyMCE.getInstanceById(g);var G=W.getDoc();TinyMCE_simpleTheme._hideMenus(g);if(C){var Z=V;var b=new Array();while(Z!=null){if(Z.nodeName.toUpperCase()=="BODY"){break}if(Z.nodeType==1&&tinyMCE.getAttrib(Z,"class").indexOf("mceItemHidden")==-1){b[b.length]=Z}Z=Z.parentNode}var S="";for(var h=b.length-1;h>=0;h--){var A=b[h].nodeName.toLowerCase();var Y="";if(A.indexOf("html:")==0){A=A.substring(5)}if(A=="b"){A="strong"}if(A=="i"){A="em"}if(A=="span"){var P=tinyMCE.getAttrib(b[h],"class");if(P!=""&&P.indexOf("mceItem")==-1){Y+="class: "+P+" "}var I=tinyMCE.getAttrib(b[h],"style");if(I!=""){I=tinyMCE.serializeStyle(tinyMCE.parseStyle(I));Y+="style: "+tinyMCE.xmlEncode(I)+" "}}if(A=="font"){if(tinyMCE.getParam("convert_fonts_to_spans")){A="span"}var J=tinyMCE.getAttrib(b[h],"face");if(J!=""){Y+="font: "+tinyMCE.xmlEncode(J)+" "}var H=tinyMCE.getAttrib(b[h],"size");if(H!=""){Y+="size: "+tinyMCE.xmlEncode(H)+" "}var Q=tinyMCE.getAttrib(b[h],"color");if(Q!=""){Y+="color: "+tinyMCE.xmlEncode(Q)+" "}}if(tinyMCE.getAttrib(b[h],"id")!=""){Y+="id: "+b[h].getAttribute("id")+" "}var D=tinyMCE.getVisualAidClass(tinyMCE.getAttrib(b[h],"class"),false);if(D!=""&&D.indexOf("mceItem")==-1){Y+="class: "+D+" "}if(tinyMCE.getAttrib(b[h],"src")!=""){var L=tinyMCE.getAttrib(b[h],"mce_src");if(L==""){L=tinyMCE.getAttrib(b[h],"src")}Y+="src: "+tinyMCE.xmlEncode(L)+" "}if(b[h].nodeName=="A"&&tinyMCE.getAttrib(b[h],"href")!=""){var M=tinyMCE.getAttrib(b[h],"mce_href");if(M==""){M=tinyMCE.getAttrib(b[h],"href")}Y+="href: "+tinyMCE.xmlEncode(M)+" "}D=tinyMCE.getAttrib(b[h],"class");if((A=="img"||A=="span")&&D.indexOf("mceItem")!=-1){A=D.replace(/mceItem([a-z]+)/gi,"$1").toLowerCase();Y=b[h].getAttribute("title")}if(A=="a"&&(anchor=tinyMCE.getAttrib(b[h],"name"))!=""){A="a";A+="#"+tinyMCE.xmlEncode(anchor);Y=""}if(tinyMCE.getAttrib(b[h],"name").indexOf("mce_")!=0){var D=tinyMCE.getVisualAidClass(tinyMCE.getAttrib(b[h],"class"),false);if(D!=""&&D.indexOf("mceItem")==-1){A+="."+D}}var l="tinyMCE.execInstanceCommand('"+g+"','mceSelectNodeDepth',false,'"+h+"');";S+='<a title="'+Y+'" href="javascript:'+l+'" onclick="'+l+'return false;" onmousedown="return false;" target="_self" class="mcePathItem">'+A+"</a>";if(h>0){S+=" &raquo; "}}C.innerHTML='<a href="#" accesskey="x"></a>'+tinyMCE.getLang("lang_theme_path")+": "+S+"&#160;"}tinyMCE.switchClass(g+"_justifyleft","mceButtonNormal");tinyMCE.switchClass(g+"_justifyright","mceButtonNormal");tinyMCE.switchClass(g+"_justifycenter","mceButtonNormal");tinyMCE.switchClass(g+"_justifyfull","mceButtonNormal");tinyMCE.switchClass(g+"_bold","mceButtonNormal");tinyMCE.switchClass(g+"_italic","mceButtonNormal");tinyMCE.switchClass(g+"_underline","mceButtonNormal");tinyMCE.switchClass(g+"_strikethrough","mceButtonNormal");tinyMCE.switchClass(g+"_bullist","mceButtonNormal");tinyMCE.switchClass(g+"_numlist","mceButtonNormal");tinyMCE.switchClass(g+"_sub","mceButtonNormal");tinyMCE.switchClass(g+"_sup","mceButtonNormal");tinyMCE.switchClass(g+"_anchor","mceButtonNormal");tinyMCE.switchClass(g+"_link","mceButtonDisabled");tinyMCE.switchClass(g+"_unlink","mceButtonDisabled");tinyMCE.switchClass(g+"_outdent","mceButtonDisabled");tinyMCE.switchClass(g+"_image","mceButtonNormal");tinyMCE.switchClass(g+"_hr","mceButtonNormal");if(V.nodeName=="A"&&tinyMCE.getAttrib(V,"class").indexOf("mceItemAnchor")!=-1){tinyMCE.switchClass(g+"_anchor","mceButtonSelected")}var e=tinyMCE.getParentElement(V,"a","href");if(e||E){tinyMCE.switchClass(g+"_link",e?"mceButtonSelected":"mceButtonNormal");tinyMCE.switchClass(g+"_unlink",e?"mceButtonSelected":"mceButtonNormal")}tinyMCE.switchClass(g+"_visualaid",N?"mceButtonSelected":"mceButtonNormal");if(f!=-1){tinyMCE.switchClass(g+"_undo","mceButtonDisabled");tinyMCE.switchClass(g+"_redo","mceButtonDisabled")}if(tinyMCE.getParentElement(V,"li,blockquote")){tinyMCE.switchClass(g+"_outdent","mceButtonNormal")}if(B!=-1&&(B<f-1&&f>0)){tinyMCE.switchClass(g+"_redo","mceButtonNormal")}if(B!=-1&&(B>0&&f>0)){tinyMCE.switchClass(g+"_undo","mceButtonNormal")}var O=document.getElementById(g+"_styleSelect");if(O){TinyMCE_simpleTheme._setupCSSClasses(g);a=V;m=false;var X=0;do{if(a&&a.className){for(var h=0;h<O.options.length;h++){if(O.options[h].value==a.className){X=h;m=true;break}}}}while(!m&&a!=null&&(a=a.parentNode)!=null);O.selectedIndex=X}var O=document.getElementById(g+"_formatSelect");if(O){var k=tinyMCE.getParentElement(V,"p,div,h1,h2,h3,h4,h5,h6,pre,address");if(k){T(O,"<"+k.nodeName.toLowerCase()+">")}else{T(O,"")}}var O=document.getElementById(g+"_fontNameSelect");if(O){if(!tinyMCE.isSafari&&!(tinyMCE.isMSIE&&!tinyMCE.isOpera)){var J=W.queryCommandValue("FontName");J=J==null||J==""?"":J;T(O,J,J!="")}else{var k=tinyMCE.getParentElement(V,"font","face");if(k){var d=tinyMCE.getAttrib(k,"face");if(d==""){d=""+k.style.fontFamily}if(!T(O,d,d!="")){T(O,"")}}else{T(O,"")}}}var O=document.getElementById(g+"_fontSizeSelect");if(O){if(!tinyMCE.isSafari&&!tinyMCE.isOpera){var H=W.queryCommandValue("FontSize");T(O,H==null||H==""?"0":H)}else{var k=tinyMCE.getParentElement(V,"font","size");if(k){var H=tinyMCE.getAttrib(k,"size");if(H==""){var K=new Array("","8px","10px","12px","14px","18px","24px","36px");H=""+k.style.fontSize;for(var h=0;h<K.length;h++){if((""+K[h])==H){H=h;break}}}if(!T(O,H)){T(O,"")}}else{T(O,"0")}}}R=V;m=false;do{if(!R.getAttribute||!R.getAttribute("align")){continue}switch(R.getAttribute("align").toLowerCase()){case"left":tinyMCE.switchClass(g+"_justifyleft","mceButtonSelected");m=true;break;case"right":tinyMCE.switchClass(g+"_justifyright","mceButtonSelected");m=true;break;case"middle":case"center":tinyMCE.switchClass(g+"_justifycenter","mceButtonSelected");m=true;break;case"justify":tinyMCE.switchClass(g+"_justifyfull","mceButtonSelected");m=true;break}}while(!m&&(R=R.parentNode)!=null);var j=tinyMCE.getParentElement(V,"div");if(j&&j.style.textAlign=="center"){tinyMCE.switchClass(g+"_justifycenter","mceButtonSelected")}if(!U){var F=new Array("Bold","_bold","Italic","_italic","Strikethrough","_strikethrough","superscript","_sup","subscript","_sub");for(var h=0;h<F.length;h+=2){if(W.queryCommandState(F[h])){tinyMCE.switchClass(g+F[h+1],"mceButtonSelected")}}if(W.queryCommandState("Underline")&&(V.parentNode==null||V.parentNode.nodeName!="A")){tinyMCE.switchClass(g+"_underline","mceButtonSelected")}}do{switch(V.nodeName){case"UL":tinyMCE.switchClass(g+"_bullist","mceButtonSelected");break;case"OL":tinyMCE.switchClass(g+"_numlist","mceButtonSelected");break;case"HR":tinyMCE.switchClass(g+"_hr","mceButtonSelected");break;case"IMG":if(tinyMCE.getAttrib(V,"name").indexOf("mce_")!=0&&tinyMCE.getAttrib(V,"class").indexOf("mceItem")==-1){tinyMCE.switchClass(g+"_image","mceButtonSelected")}break}}while((V=V.parentNode)!=null)},_setupCSSClasses:function(D){var A,B;if(!TinyMCE_simpleTheme._autoImportCSSClasses){return }B=document.getElementById(D+"_styleSelect");if(B&&B.getAttribute("cssImported")!="true"){var C=tinyMCE.getCSSClasses(D);if(C&&B){for(A=0;A<C.length;A++){B.options[B.options.length]=new Option(C[A],C[A])}}if(C!=null&&C.length>0){B.setAttribute("cssImported","true")}}},_setCookie:function(B,E,D,F,A,G){var C=B+"="+escape(E)+((D)?"; expires="+D.toGMTString():"")+((F)?"; path="+escape(F):"")+((A)?"; domain="+A:"")+((G)?"; secure":"");document.cookie=C},_getCookie:function(D){var C=document.cookie;var A=D+"=";var E=C.indexOf("; "+A);if(E==-1){E=C.indexOf(A);if(E!=0){return null}}else{E+=2}var B=document.cookie.indexOf(";",E);if(B==-1){B=C.length}return unescape(C.substring(E+A.length,B))},_resizeTo:function(E,H,D,G){var A=document.getElementById(E.editorId+"_parent");var J=A.firstChild;var B=E.iframeElement;if(H==null||H=="null"){G=false;H=0}if(D==null||D=="null"){return }H=parseInt(H);D=parseInt(D);if(tinyMCE.isGecko){H+=2;D+=2}var K=H-J.clientWidth;var I=D-J.clientHeight;H=H<1?30:H;D=D<1?30:D;if(G){J.style.width=H+"px"}J.style.height=D+"px";iw=B.clientWidth+K;ih=B.clientHeight+I;iw=iw<1?30:iw;ih=ih<1?30:ih;if(tinyMCE.isGecko){iw-=2;ih-=2}if(G){B.style.width=iw+"px"}B.style.height=ih+"px";if(G){var C=J.firstChild;var F=C.scrollWidth;if(E.iframeElement.clientWidth<F){K=F-E.iframeElement.clientWidth;E.iframeElement.style.width=(iw+K)+"px"}}E.useCSS=false},_resizeEventHandler:function(E){var G=TinyMCE_simpleTheme._resizer;if(!G.resizing){return }E=typeof (E)=="undefined"?window.event:E;var I=E.screenX-G.downX;var H=E.screenY-G.downY;var A=G.resizeBox;var B=G.editorId;switch(E.type){case"mousemove":var F,C;F=G.width+I;C=G.height+H;F=F<1?1:F;C=C<1?1:C;if(G.horizontal){A.style.width=F+"px"}A.style.height=C+"px";break;case"mouseup":TinyMCE_simpleTheme._setResizing(E,B,false);TinyMCE_simpleTheme._resizeTo(tinyMCE.getInstanceById(B),G.width+I,G.height+H,G.horizontal);if(tinyMCE.getParam("theme_simple_resizing_use_cookie",true)){var D=new Date();D.setTime(D.getTime()+3600000*24*30);TinyMCE_simpleTheme._setCookie("TinyMCE_"+B+"_width",""+(G.horizontal?G.width+I:""),D);TinyMCE_simpleTheme._setCookie("TinyMCE_"+B+"_height",""+(G.height+H),D)}break}},_setResizing:function(G,J,A){G=typeof (G)=="undefined"?window.event:G;var I=TinyMCE_simpleTheme._resizer;var E=document.getElementById(J+"_parent");var C=document.getElementById(J+"_parent").firstChild;var D=document.getElementById(J+"_resize_box");var F=tinyMCE.getInstanceById(J);if(A){var B=C.clientWidth;var H=C.clientHeight;D.style.width=B+"px";D.style.height=H+"px";I.iframeWidth=F.iframeElement.clientWidth;I.iframeHeight=F.iframeElement.clientHeight;C.style.display="none";D.style.display="block";if(!I.eventHandlers){if(tinyMCE.isMSIE){tinyMCE.addEvent(document,"mousemove",TinyMCE_simpleTheme._resizeEventHandler)}else{tinyMCE.addEvent(window,"mousemove",TinyMCE_simpleTheme._resizeEventHandler)}tinyMCE.addEvent(document,"mouseup",TinyMCE_simpleTheme._resizeEventHandler);I.eventHandlers=true}I.resizing=true;I.downX=G.screenX;I.downY=G.screenY;I.width=parseInt(D.style.width);I.height=parseInt(D.style.height);I.editorId=J;I.resizeBox=D;I.horizontal=tinyMCE.getParam("theme_simple_resize_horizontal",true)}else{I.resizing=false;D.style.display="none";C.style.display=tinyMCE.isMSIE&&!tinyMCE.isOpera?"block":"table";tinyMCE.execCommand("mceResetDesignMode")}},_getColorHTML:function(F,E,A){var C,D,B;D='<span class="mceMenuLine"></span>';B=tinyMCE.getParam(E,TinyMCE_simpleTheme._defColors).split(",");D+='<table class="mceColors"><tr>';for(C=0;C<B.length;C++){c="tinyMCE.execInstanceCommand('"+F+"', '"+A+"', false, '#"+B[C]+"');";D+='<td><a href="javascript:'+c+'" style="background-color: #'+B[C]+'" onclick="'+c+';return false;"></a></td>';if((C+1)%8==0){D+="</tr><tr>"}}D+="</tr></table>";if(tinyMCE.getParam("theme_simple_more_colors",true)){D+='<a href="javascript:void(0);" onclick="TinyMCE_simpleTheme._pickColor(\''+F+"','"+A+'\');" class="mceMoreColors">'+tinyMCE.getLang("lang_more_colors")+"</a>"}return D},_pickColor:function(D,A){var B,C=tinyMCE.selectedInstance;if(A=="forecolor"&&C){B=C.foreColor}if((A=="backcolor"||A=="HiliteColor")&&C){B=C.backColor}tinyMCE.execCommand("mceColorPicker",true,{color:B,callback:function(E){tinyMCE.execInstanceCommand(D,A,false,E)}})},_insertImage:function(A,D,C,I,E,B,J,F,H,G,K){tinyMCE.execCommand("mceInsertContent",false,tinyMCE.createTagHTML("img",{src:tinyMCE.convertRelativeToAbsoluteURL(tinyMCE.settings.base_href,A),mce_src:A,alt:D,border:C,hspace:I,vspace:E,width:B,height:J,align:F,title:H,onmouseover:G,onmouseout:K}))},_insertLink:function(href,target,title,onclick,style_class){tinyMCE.execCommand("mceBeginUndoLevel");if(tinyMCE.selectedInstance&&tinyMCE.selectedElement&&tinyMCE.selectedElement.nodeName.toLowerCase()=="img"){var doc=tinyMCE.selectedInstance.getDoc();var linkElement=tinyMCE.getParentElement(tinyMCE.selectedElement,"a");var newLink=false;if(!linkElement){linkElement=doc.createElement("a");newLink=true}var mhref=href;var thref=eval(tinyMCE.settings.urlconverter_callback+"(href, linkElement);");mhref=tinyMCE.getParam("convert_urls")?href:mhref;tinyMCE.setAttrib(linkElement,"href",thref);tinyMCE.setAttrib(linkElement,"mce_href",mhref);tinyMCE.setAttrib(linkElement,"target",target);tinyMCE.setAttrib(linkElement,"title",title);tinyMCE.setAttrib(linkElement,"onclick",onclick);tinyMCE.setAttrib(linkElement,"class",style_class);if(newLink){linkElement.appendChild(tinyMCE.selectedElement.cloneNode(true));tinyMCE.selectedElement.parentNode.replaceChild(linkElement,tinyMCE.selectedElement)}return }if(!tinyMCE.linkElement&&tinyMCE.selectedInstance){if(tinyMCE.isSafari){tinyMCE.execCommand("mceInsertContent",false,'<a href="'+tinyMCE.uniqueURL+'">'+tinyMCE.selectedInstance.selection.getSelectedHTML()+"</a>")}else{tinyMCE.selectedInstance.contentDocument.execCommand("createlink",false,tinyMCE.uniqueURL)}tinyMCE.linkElement=tinyMCE.getElementByAttributeValue(tinyMCE.selectedInstance.contentDocument.body,"a","href",tinyMCE.uniqueURL);var elementArray=tinyMCE.getElementsByAttributeValue(tinyMCE.selectedInstance.contentDocument.body,"a","href",tinyMCE.uniqueURL);for(var i=0;i<elementArray.length;i++){var mhref=href;var thref=eval(tinyMCE.settings.urlconverter_callback+"(href, elementArray[i]);");mhref=tinyMCE.getParam("convert_urls")?href:mhref;tinyMCE.setAttrib(elementArray[i],"href",thref);tinyMCE.setAttrib(elementArray[i],"mce_href",mhref);tinyMCE.setAttrib(elementArray[i],"target",target);tinyMCE.setAttrib(elementArray[i],"title",title);tinyMCE.setAttrib(elementArray[i],"onclick",onclick);tinyMCE.setAttrib(elementArray[i],"class",style_class)}tinyMCE.linkElement=elementArray[0]}if(tinyMCE.linkElement){var mhref=href;href=eval(tinyMCE.settings.urlconverter_callback+"(href, tinyMCE.linkElement);");mhref=tinyMCE.getParam("convert_urls")?href:mhref;tinyMCE.setAttrib(tinyMCE.linkElement,"href",href);tinyMCE.setAttrib(tinyMCE.linkElement,"mce_href",mhref);tinyMCE.setAttrib(tinyMCE.linkElement,"target",target);tinyMCE.setAttrib(tinyMCE.linkElement,"title",title);tinyMCE.setAttrib(tinyMCE.linkElement,"onclick",onclick);tinyMCE.setAttrib(tinyMCE.linkElement,"class",style_class)}tinyMCE.execCommand("mceEndUndoLevel")}};tinyMCE.addTheme("simple",TinyMCE_simpleTheme);tinyMCE.addButtonMap(TinyMCE_simpleTheme._buttonMap);